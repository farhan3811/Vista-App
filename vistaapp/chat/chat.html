<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Vista App - Prototipe Interaktif</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #e5e7eb;
        }

        .app-container {
            width: 100%;
            max-width: 450px;
            height: 100vh;
            background-color: #f7f8fa;
            margin: 0 auto;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .main-content {
            flex-grow: 1;
            overflow-y: auto;
            position: relative;
        }

        .main-content::-webkit-scrollbar,
        .messages-container::-webkit-scrollbar {
            width: 4px;
        }

        .main-content::-webkit-scrollbar-thumb,
        .messages-container::-webkit-scrollbar-thumb {
            background: #d1d5db;
            border-radius: 2px;
        }

        .hidden {
            display: none;
        }
    </style>
</head>

<body>

    <!-- App Container -->
    <div class="app-container">

        <!-- Top Header (Main) -->
        <header id="main-header" class="flex-shrink-0 bg-white px-4 pt-6 pb-4 shadow-sm z-10">
            <div class="flex items-center justify-between">
                <h1 id="header-title" class="text-2xl font-bold text-gray-800">Obrolan</h1>
                <div id="header-icons" class="flex items-center space-x-3">
                    <button class="p-2 text-gray-600 hover:text-indigo-600" title="Cari"><svg
                            xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg></button>
                    <a href="creategroup.html"><button class="p-2 text-gray-600 hover:text-indigo-600"
                            title="Grup Baru"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                            </svg></button></a>
                    <a href="riwayattpanggilan.html"><button class="p-2 text-gray-600 hover:text-indigo-600"
                            title="Riwayat Panggilan"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg></button></a>
                                                <a href="addkonttak.html"><button class="p-2 text-gray-600 hover:text-indigo-600"
                            title="Obrolan Baru"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                            </svg></button></a>
                </div>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="main-content bg-gray-50">
            <!-- Halaman Daftar Obrolan -->
            <div id="page-chat" class="page-content">
                <div class="p-3 space-y-2 pb-24">
                    <div id="chat-item-andi"
                        class="flex items-center space-x-4 p-3 rounded-xl bg-white hover:bg-gray-100 cursor-pointer transition-colors">
                        <div class="relative"><img class="w-14 h-14 rounded-full object-cover"
                                src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?q=80&w=2080&auto=format&fit=crop"
                                alt="Avatar Andi Hermawan"><span
                                class="absolute bottom-0 right-0 block h-3.5 w-3.5 rounded-full bg-green-500 border-2 border-white"></span>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex justify-between items-center">
                                <p class="text-md font-semibold text-gray-900 truncate">Andi Hermawan</p><span
                                    class="text-xs text-indigo-600 font-semibold">10:42</span>
                            </div>
                            <div class="flex justify-between items-start mt-1">
                                <p class="text-sm text-gray-600 truncate">Oke, nanti aku kabari lagi ya. Siap!</p><span
                                    class="bg-indigo-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center">2</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation Bar (Visual Only) -->
        <nav id="bottom-nav" class="flex-shrink-0 bg-white border-t border-gray-200 z-10">
            <div id="nav-bar" class="flex justify-around items-center h-16">
                <a href="chat.html"
                    class="nav-link flex flex-col items-center justify-center w-full text-indigo-600"><svg
                        xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z" />
                    </svg><span class="text-xs font-semibold">Obrolan</span></a>
                <a href="../rencana/plan.html" class="nav-link flex flex-col items-center justify-center w-full text-gray-500"><svg
                        xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg><span class="text-xs font-medium">Rencana</span></a>
                <a href="../dompet/wallet.html"
                    class="nav-link flex flex-col items-center justify-center w-full text-gray-500"><svg
                        xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
                    </svg><span class="text-xs font-medium">Dompet</span></a>
                <a href="../saya/profile.html"
                    class="nav-link flex flex-col items-center justify-center w-full text-gray-500"><svg
                        xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg><span class="text-xs font-medium">Saya</span></a>
            </div>
        </nav>

        <!-- Halaman Percakapan Individual (Chat Room) -->
        <div id="page-chatroom"
            class="absolute inset-0 bg-gray-200 flex flex-col transition-transform transform translate-x-full z-30">
            <header class="flex-shrink-0 bg-white px-3 py-2 shadow-sm flex items-center space-x-3"><button
                    id="back-to-chat-list" class="p-2 text-gray-600 hover:text-indigo-600"><svg
                        xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"
                            clip-rule="evenodd" />
                    </svg></button><img class="w-10 h-10 rounded-full object-cover"
                    src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?q=80&w=2080&auto=format&fit=crop"
                    alt="Avatar Andi Hermawan">
                <div class="flex-1">
                    <h2 class="font-bold text-gray-800">Andi Hermawan</h2>
                    <p class="text-xs text-green-500">Online</p>
                </div>
                <div class="flex items-center relative">
                    <a href="freecall.html"><button class="p-2 text-gray-600 hover:text-indigo-600"
                        title="Panggilan Suara"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                        </svg></button></a>
                       <a href="videocall.html"><button class="p-2 text-gray-600 hover:text-indigo-600"
                        title="Panggilan Video"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                        </svg></button></a> <button id="menu-button" class="p-2 text-gray-600 hover:text-indigo-600"
                        title="Opsi Lainnya"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" />
                        </svg></button>
                    <div id="chat-menu"
                        class="hidden absolute right-0 top-full mt-2 w-56 bg-white rounded-md shadow-xl z-40 py-1"><a
                            href="lihatkontak.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Lihat Kontak</a><a
                            href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Bisukan
                            Notifikasi</a><a href="#"
                            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Tema Chat</a><a href="#"
                            class="block px-4 py-2 text-sm text-red-600 hover:bg-gray-100">Blokir</a><a href="#"
                            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Lainnya</a></div>
                </div>
            </header>
            <div id="messages-container" class="flex-1 p-4 space-y-4 overflow-y-auto"></div>
            <footer class="flex-shrink-0 bg-white p-3 border-t border-gray-200 relative">
                <!-- Attachment Options -->
                <div id="attachment-options"
                    class="hidden absolute bottom-full left-0 right-0 p-4 bg-white rounded-t-2xl shadow-lg transition-all duration-300 opacity-0 transform scale-95">
                    <div class="grid grid-cols-4 gap-4 text-center">
                        <a href="#" class="flex flex-col items-center space-y-2 text-gray-600 hover:text-indigo-600">
                            <div class="bg-purple-100 text-purple-600 p-3 rounded-full"><svg class="w-6 h-6" fill="none"
                                    stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z">
                                    </path>
                                </svg></div><span class="text-xs">Galeri</span>
                        </a>
                        <a href="#" class="flex flex-col items-center space-y-2 text-gray-600 hover:text-indigo-600">
                            <div class="bg-red-100 text-red-600 p-3 rounded-full"><svg class="w-6 h-6" fill="none"
                                    stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z">
                                    </path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                </svg></div><span class="text-xs">Kamera</span>
                        </a>
                        <a href="#" class="flex flex-col items-center space-y-2 text-gray-600 hover:text-indigo-600">
                            <div class="bg-green-100 text-green-600 p-3 rounded-full"><svg class="w-6 h-6" fill="none"
                                    stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z">
                                    </path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                </svg></div><span class="text-xs">Lokasi</span>
                        </a>
                        <a href="#" class="flex flex-col items-center space-y-2 text-gray-600 hover:text-indigo-600">
                            <div class="bg-blue-100 text-blue-600 p-3 rounded-full"><svg class="w-6 h-6" fill="none"
                                    stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z">
                                    </path>
                                </svg></div><span class="text-xs">Dokumen</span>
                        </a>
                    </div>
                </div>
                <!-- Input Bar -->
                <div class="flex items-center space-x-2"><button id="attachment-btn"
                        class="p-2 text-gray-500 hover:text-indigo-600"><svg xmlns="http://www.w3.org/2000/svg"
                            class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M15.621 4.379a3 3 0 00-4.242 0l-7 7a3 3 0 004.241 4.243h.001l.497-.5a.75.75 0 011.064 1.057l-.498.501-.002.002a4.5 4.5 0 01-6.364-6.364l7-7a4.5 4.5 0 016.368 6.36l-3.455 3.553A2.625 2.625 0 119.52 9.52l3.45-3.451a.75.75 0 111.061 1.06l-3.45 3.452a1.125 1.125 0 001.592 1.591l3.455-3.553a3 3 0 000-4.242z"
                                clip-rule="evenodd" />
                        </svg></button><input id="message-input" type="text" placeholder="Ketik pesan..."
                        class="flex-1 w-full bg-gray-100 rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400"><button
                        id="send-button"
                        class="bg-indigo-600 text-white rounded-full p-3 shadow-md hover:bg-indigo-700 transition"><svg
                            xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path
                                d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" />
                        </svg></button></div>
            </footer>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const mainHeader = document.getElementById('main-header');
            const bottomNav = document.getElementById('bottom-nav');
            const chatRoomPage = document.getElementById('page-chatroom');
            const chatItemAndi = document.getElementById('chat-item-andi');
            const backToChatListButton = document.getElementById('back-to-chat-list');
            const menuButton = document.getElementById('menu-button');
            const chatMenu = document.getElementById('chat-menu');
            const attachmentBtn = document.getElementById('attachment-btn');
            const attachmentOptions = document.getElementById('attachment-options');

            function showChatRoom() {
                mainHeader.classList.add('hidden');
                bottomNav.classList.add('hidden');
                chatRoomPage.classList.remove('translate-x-full');
            }

            function hideChatRoom() {
                mainHeader.classList.remove('hidden');
                bottomNav.classList.remove('hidden');
                chatRoomPage.classList.add('translate-x-full');
                chatMenu.classList.add('hidden');
                attachmentOptions.classList.add('hidden', 'opacity-0', 'scale-95');
            }

            chatItemAndi.addEventListener('click', showChatRoom);
            backToChatListButton.addEventListener('click', hideChatRoom);

            menuButton.addEventListener('click', (event) => {
                event.stopPropagation();
                chatMenu.classList.toggle('hidden');
                attachmentOptions.classList.add('hidden', 'opacity-0', 'scale-95'); // Close other menu
            });

            attachmentBtn.addEventListener('click', (event) => {
                event.stopPropagation();
                attachmentOptions.classList.toggle('hidden');
                if (!attachmentOptions.classList.contains('hidden')) {
                    setTimeout(() => {
                        attachmentOptions.classList.remove('opacity-0', 'scale-95');
                    }, 10);
                } else {
                    attachmentOptions.classList.add('opacity-0', 'scale-95');
                }
                chatMenu.classList.add('hidden'); // Close other menu
            });

            window.addEventListener('click', (event) => {
                if (!chatMenu.classList.contains('hidden') && !chatMenu.contains(event.target) && !menuButton.contains(event.target)) {
                    chatMenu.classList.add('hidden');
                }
                if (!attachmentOptions.classList.contains('hidden') && !attachmentOptions.contains(event.target) && !attachmentBtn.contains(event.target)) {
                    attachmentOptions.classList.add('hidden', 'opacity-0', 'scale-95');
                }
            });
        });
    </script>
</body>

</html>